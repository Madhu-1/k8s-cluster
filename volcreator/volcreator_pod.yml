apiVersion: batch/v1
kind: Job
metadata:
  name: volcreator
  namespace: glusterfs
spec:
  template:
    metadata:
      name: volcreator
    spec:
      serviceAccountName: volcreator-sa
      containers:
      - name: volcreator
        image: johnstrunk/volcreator:latest
        #entrypoint: /bin/bash
        args:
        - "192.168.173.15:192.168.173.16:192.168.173.17"
        - "testvol"
        - "/data"
        - "0"
        - "100"
        volumeMounts:
        - name: data
          mountPath: /data
      restartPolicy: Never
      volumes:
      - name: data
        glusterfs:
          endpoints: glusterfs-cluster
          path: testvol
          readOnly: false
